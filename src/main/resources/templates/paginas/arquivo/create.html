
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/template}"
      xmlns:evolucao="http://brewer.algaworks.com">

    <head>
        <title>EVOLUÇÃO CURSOS</title>
        <meta charset="UTF-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>

        <script type="text/javascript">

            function saveFile() {
                let formData = new formData();
                formData.append('image', file.files[0]);
                fetch('fotos/upload', {method: "POST", body: formData});

                var fileName = document.getElementById('file');
                var image = document.getElementById('image');
                image.value = fileName.value;
                console.log(image.value);
            }

        </script>
    </head>

    <body>
        <section layout:fragment="conteudo">
            <h4>Cadastro arquivo</h4>

            <form id="upload-form" method="POST" enctype="multipart/form-data" th:action="@{/fotos/upload}">
                <label for="file">Arquivo</label>
                <input type="file" name="file" id="file"/>

                <input type="submit" name="submit" value="Upload" onclick="saveFile()"/>

                <input type="text" name="image" id="image"/>

                <img alt="evolucão" th:src="@{/fotos/download/logo.PNG}" height="200" width="100%"/>
            </form>

        </section>
    </body>
</html>
